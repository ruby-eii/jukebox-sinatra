<audio id="jukebox-player"></audio>

<div class="row">
  <% if @queue.songs.empty? %>

    <p class="alert alert-warning">Ooops, it looks like you haven't added any songs to the Jukebox yet.</p>

  <% else %>

    <div class="queue-actions text-center">
      <button type="button" class="play-button btn btn-default" aria-label="Play">
        <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
      </button>

      <button type="button" class="pause-button btn btn-default" aria-label="Pause">
        <span class="glyphicon glyphicon-pause" aria-hidden="true"></span>
      </button>
    </div>

    <div class="row">
      <table class="songs table">
        <thead>
          <tr>
            <th>Title</th><th colspan="3">Actions</th>
          </tr>
        </thead>

        <tbody>
          <% @queue.songs.each do |song| %>
            <tr class="song-row">
              <td><%= song.display_name %></td>
              <td>
                <a class="remove-song btn btn-default" data-song-id="<%=song.id%>" aria-label="Remove from Jukebox">
                  <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Remove from Jukebox
                </a>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

  <% end %>

  <a href="/songs" class="btn btn-primary">Back to Song Library</a>
</div>

<div id="remove-song-modal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Song couldn't be removed</h4>
      </div>

      <div class="modal-body">
        <p>You should pause the Jukebox before trying to remove a song.</p>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Got it</button>
      </div>
    </div>
  </div>
</div>

<%= js :jukebox %>
